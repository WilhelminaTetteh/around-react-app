{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","images/pencil.svg","images/add.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/Success-icon.svg","images/Error-icon.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","handleLogOut","loggedIn","location","useLocation","className","src","logo","alt","to","onClick","pathname","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onCardDelete","style","backgroundImage","link","onCardClick","name","onCardLike","length","Main","onEditAvatarClick","avatar","onEditProfileClick","pencil","about","onAddPlaceClick","add","cards","map","id","PopupWithForm","isOpen","onClose","action","method","onSubmit","title","children","buttonText","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","placeholder","color","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardLinkRef","cardNameRef","onAddPlace","apiResponse","res","ok","json","Promise","reject","status","api","baseUrl","authToken","this","_baseUrl","_authToken","fetch","headers","authorization","then","all","getInfo","getCardList","body","JSON","stringify","cardID","Login","handleLogin","setEmail","password","setPassword","useHistory","Register","handleRegistration","ProtectedRoute","Component","component","InfoToolTip","isvalidRegistration","successIcon","errorIcon","authResponse","BASE_URL","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setMessage","history","isSuccessful","setIsSuccessful","closeAllPopups","tokenCheck","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","localStorage","getItem","jwt","token","Accept","Authorization","data","push","Provider","removeItem","exact","path","deleteLike","newCard","state","c","changeLikeCardStatus","removeCard","cardList","filter","auth","setItem","message","updateUserInfo","addCard","setUserAvatar","onShowToolTip","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.07fe5894.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from \"../images/logo.svg\";\nimport { Link, useLocation } from \"react-router-dom\";\nfunction Header({ email, handleLogOut, loggedIn }) {\n  const location = useLocation();\n\n  const handleAuthenticationRoutes = () => {\n    if (location.pathname === \"/signin\") {\n      return (\n        <Link to=\"/signup\" className=\"header__signup\">\n          Sign up\n        </Link>\n      );\n    } else {\n      return (\n        <Link to=\"/signin\" className=\"header__signup\">\n          Sign in\n        </Link>\n      );\n    }\n  };\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"logo\" />\n      {loggedIn && (\n        <div className=\"header__nav\">\n          <p className=\"header__email\">{email}</p>\n          <Link\n            to=\"/signin\"\n            onClick={handleLogOut}\n            className=\"header__signup\"\n          >\n            Log out\n          </Link>\n        </div>\n      )}\n      {!loggedIn && (\n        <div className=\"header__nav\">\n          {handleAuthenticationRoutes()}\n        </div>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n\n// NOTE useLocation\n// /*\n// useLocation\n// The useLocation hook returns the location object that represents the current URL.\n// You can think about it like\n// a useState that returns a new location whenever the URL changes.\n// */\n","function Footer () {\n  return (\n     <footer className=\"footer\">\n          <p className=\"footer__copyright\">© 2021 Around The U.S.</p>\n        </footer>\n   );\n}\n \nexport default Footer;","export default __webpack_public_path__ + \"static/media/pencil.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/add.d86bb2ed.svg\";","import React from 'react';\nexport const CurrentUserContext = React.createContext()","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nfunction Card(props) {\n  // subscribing Card to CurrentUserContext\n  const currentUser = React.useContext(CurrentUserContext);\n  // Checking if you are the owner of the current card\n  const isOwn = props.card.owner._id === currentUser._id;\n  // Creating a variable which you'll then set in `className` for the delete button\n  const cardDeleteButtonClassName = `grid__delete-icon ${\n    isOwn ? \"grid__delete-show\" : \"grid__delete-hide\"\n  }`;\n  // Check if the card was liked by the current user\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  // Create a variable which you then set in `className` for the like button\n  const cardLikeButtonClassName = `grid__icon ${\n    isLiked ? \"grid__icon_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n  return (\n    <div className=\"grid__template\">\n      <li className=\"grid__item\">\n        <button\n          type=\"button\"\n          aria-label=\"modal button\"\n          className={cardDeleteButtonClassName}\n          onClick={handleDeleteClick}\n        ></button>\n        <div\n          className=\"grid__image\"\n          style={{ backgroundImage: `url(${props.card.link})` }}\n          onClick={handleClick}\n        ></div>\n        <div className=\"grid__caption\">\n          <p className=\"grid__text\">{props.card.name}</p>\n          <div className=\"grid__like-column\">\n            <button\n              className={cardLikeButtonClassName}\n              onClick={handleLikeClick}\n              aria-label=\"grid icon\"\n              type=\"button\"\n            ></button>\n            <p className=\"grid__likes\">{props.card.likes.length}</p>\n          </div>\n        </div>\n      </li>\n    </div>\n  );\n}\n\nexport default Card;\n\n// pass it on to the Card component through the Main component — in the form of onCardClick props\n","import React from \"react\";\nimport pencil from \"../images/pencil.svg\";\nimport add from \"../images/add.svg\";\nimport Card from \"./Card\";\n// import Footer from \"./Footer\";\n\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Main(props) {\n  // subscribing Main to CurrentUserContext\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"avatar\" onClick={props.onEditAvatarClick}>\n          <img\n            src={currentUser.avatar}\n            alt=\"profile avatar\"\n            className=\"profile__image\"\n          />\n          <div className=\"avatar__overlay\"></div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__title-container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button\n              onClick={props.onEditProfileClick}\n              className=\"profile__edit\"\n              type=\"button\"\n              aria-label=\"edit button\"\n            >\n              <img\n                className=\"profile__edit-icon\"\n                src={pencil}\n                alt=\"pencil icon\"\n              />\n            </button>\n          </div>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add\"\n          type=\"button\"\n          aria-label=\"add\"\n          onClick={props.onAddPlaceClick}\n        >\n          <img\n            className=\"profile__add-icon\"\n            src={add}\n            alt=\"plus sign\"\n          />\n        </button>\n      </section>\n      <section className=\"grid\">\n        <ul className=\"grid__container\">\n          {props.cards.map((card, id) => {\n            return (\n              <Card\n                key={id}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`modal modal_type_${props.name} ${\n        props.isOpen ? \"modal_open\" : \"\"\n      }`}\n    >\n      <div className=\"modal__container\">\n        <button\n          className=\"modal__button\"\n          type=\"button\"\n          aria-label=\"modal button\"\n          onClick={props.onClose}\n        ></button>\n        {/* Add the onSubmit prop to the PopupWithForm component and set it as the value of the attribute of the same name of the form tag */}\n        <form action=\"#\" className=\"form\" method=\"POST\" name={props.name} onSubmit={props.onSubmit}>\n          <h2 className=\"form__heading\">{`${props.title}`}</h2>\n          {props.children}\n          <button className=\"form__button \" type=\"submit\">\n            {props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n  return (\n    <div\n      className={`modal modal_type_${props.name} ${\n        props.isOpen ? \"modal_open\" : \"\"\n      }`}\n    >\n      <button\n        className=\"modal__button modal__button_type_popup-image\"\n        type=\"button\"\n        aria-label=\"modal button\"\n        onClick={props.onClose}\n      ></button>\n      <figure className=\"modal__figure\">\n        <img className=\"modal__image\" src={props.card.link} alt=\"place popup\" />\n        <figcaption className=\"modal__image-caption\">\n          {props.card.name}\n        </figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n\n/* selectCard prop >>\nreq:The selectedCard value should be transmitted using the \ncard props to the ImagePopup component\n>>The card prop>> is the object \n  containing the name and image URL, which i pass in from wherever i have it.  ill pass it in anywhere that\n  i need that data for a particular card*/\n","import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n  //Profile submit\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  // Subscription to the context\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]); //watch isOpen here to insert the user's data into the inputs\n  return (\n    <PopupWithForm\n      name={`edit-profile`}\n      title={`Edit profile`}\n      buttonText={`Save`}\n      isOpen={props.isOpen} //isEditProfilePopupOpen\n      onClose={props.onClose} //closeAllPopups\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__lable\">\n        <input\n          // defaultValue={name}\n          value={name || \"\"}\n          onChange={handleNameChange}\n          id=\"profile-name\"\n          type=\"text\"\n          placeholder=\"Name\"\n          style={{ color: \"#000\" }}\n          className=\"form__input form__input_type_title\"\n          name=\"title\"\n        />\n        <span id=\"profile-name-error\" className=\"form__error\"></span>\n      </label>\n      <label className=\"form__lable\">\n        <input\n          // defaultValue={description}\n          value={description || \"\"}\n          onChange={handleDescriptionChange}\n          id=\"profile-text\"\n          type=\"text\"\n          placeholder=\"About me\"\n          className=\"form__input form__input_type_description\"\n          name=\"description\"\n          style={{ color: \"#000\" }}\n        />\n        <span id=\"profile-text-error\" className=\"form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(); // assigning the object returned by a hook to a variable\n  function handleSubmit(e) {\n    e.preventDefault();\n    //added props.\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n  return (\n    <PopupWithForm\n      name={`avatar`}\n      title={`Change profile picture`}\n      buttonText={`Save`}\n      isOpen={props.isOpen} //isEditProfilePopupOpen\n      onClose={props.onClose} //closeAllPopups\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__lable\">\n        <input\n          ref={avatarRef}\n          id=\"avatar-url\"\n          type=\"url\"\n          placeholder=\"Image link\"\n          className=\"form__input form__input_type_url form__input_type_avatar-url\"\n          name=\"link\"\n          style={{ color: \"#000\" }}\n        />\n        <span id=\"avatar-url-error\" className=\"form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const cardLinkRef = React.useRef();\n  const cardNameRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    //added props.\n    props.onAddPlace({\n      link: cardLinkRef.current.value,\n      name: cardNameRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={`add-card`}\n      title={`New place`}\n      buttonText={`Create`}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__lable\">\n        <input\n          ref={cardNameRef}\n          id=\"card-title\"\n          type=\"text\"\n          placeholder=\"Title\"\n          className=\"form__input form__input_type_card-title\"\n          name=\"name\"\n          style={{ color: \"#000\" }}\n        />\n        <span id=\"card-title-error\" className=\"form__error\"></span>\n      </label>\n\n      <label className=\"form__lable\">\n        <input\n          ref={cardLinkRef}\n          id=\"card-url\"\n          type=\"url\"\n          placeholder=\"Image link\"\n          className=\"form__input form__input_type_url\"\n          name=\"link\"\n          style={{ color: \"#000\" }}\n        />\n        <span id=\"card-url-error\" className=\"form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n// import React from 'react'\n// import PopupWithForm from \"./PopupWithForm\";\n\n// function AddPlacePopup(props) {\n// const cardLinkRef = React.useRef();\n// const cardNameRef = React.useRef();\n\n//   function handleSubmit(e) {\n//     e.preventDefault();\n//     //added props.\n//     props.onAddPlace({\n//       link: cardLinkRef.current.value,\n//       name: cardNameRef.current.value,\n//     });\n//   }\n\n//   return (\n//     <PopupWithForm\n//       name={`add-card`}\n//       title={`New place`}\n//       buttonText={`Create`}\n//       isOpen={props.isOpen}\n//       onClose={props.onClose}\n//       onSubmit={handleSubmit}\n//     >\n//       <label className=\"form__lable\">\n//         <input\n//           ref={cardNameRef}\n//           id=\"card-title\"\n//           type=\"text\"\n//           placeholder=\"Title\"\n//           className=\"form__input form__input_type_card-title\"\n//           name=\"name\"\n//         />\n//         <span id=\"card-title-error\" className=\"form__error\"></span>\n//       </label>\n\n//       <label className=\"form__lable\">\n//         <input\n//           ref={cardLinkRef}\n//           id=\"card-url\"\n//           type=\"url\"\n//           placeholder=\"Image link\"\n//           className=\"form__input form__input_type_url\"\n//           name=\"link\"\n//         />\n//         <span id=\"card-url-error\" className=\"form__error\"></span>\n//       </label>\n//     </PopupWithForm>\n//   );\n// }\n\n// export default AddPlacePopup\n","const apiResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Error: ${res.status}`);\n};\n\nclass Api {\n  constructor({ baseUrl, authToken }) {\n    this._baseUrl = baseUrl;\n    this._authToken = authToken;\n  }\n\n  // methods for working with the API\n\n  // GET https://around.nomoreparties.co/v1/groupId/cards\n  getCardList() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/users/me\n  getInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // make everything show up at once\n  getInitialData() {\n    return Promise.all([this.getInfo(), this.getCardList()]);\n  }\n\n  // POST https://around.nomoreparties.co/v1/groupId/cards\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._authToken,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(apiResponse);\n  }\n\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n  removeCard(cardID) {\n    return fetch(`${this._baseUrl}/cards/${cardID}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n\n  deleteLike(cardID) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  changeLikeCardStatus(cardID) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me\n  updateUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authToken,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(apiResponse);\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authToken,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(apiResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-7\",\n  authToken: \"47c83c4f-319d-4409-b351-cc8f7164bc50\",\n});\n\nexport default api;\n","// eslint-disable-next-line\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst Login = ({ handleLogin }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n  //handle Login submission\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      // handle invalid entries\n      return;\n    }\n    handleLogin(email, password);\n    // history.push(\"/\");\n    // auth\n    //   .authorize(email, password)\n    //   .then((data) => {\n    //     if (!data) {\n    //       return setMessage(\n    //         \"one or more of the fields were not provided\"\n    //       );\n    //     }\n    //     if (data) {\n    //       // reset the state\n    //       setEmail(\"\");\n    //       setPassword(\"\");\n    //       // TODO  handle login\n    //       handleLogin();\n    //       // redirect user to /profile\n    //       history.push(\"/\");\n    //       return;\n    //     }\n    //   })\n    //   .catch((err) => {\n    //     // console.log(err);\n    //   });\n  };\n\n  return (\n    <div className=\"login\">\n      <form className=\"login__form\" onSubmit={handleSubmit}>\n        <p className=\"login__title\">Log in</p>\n        <input\n          className=\"login__form-email login__input\"\n          name=\"email\"\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          className=\"login__form-password login__input\"\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button style={{ color: \"#000\" }} className=\"login__submit\">\n          Log in\n        </button>\n        {/* link to login page */}\n        <p className=\"login__text\">\n          <Link className=\"login__link\" to=\"/signup\">\n            {\" \"}\n            Not a member? Sign Up here\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Register = ({ handleRegistration }) => {\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  // use it in the submission handler\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   //TO-DO- handle Registration\n  //   if (email && password) {\n  //     auth\n  //       .register(email, password)\n  //       // We only want to redirect users after the registration form has been properly submitted\n  //       .then((res) => {\n  //         history.push(\"/signin\");\n  //         return res;\n  //       });\n  //     // console.log(\"res good\");\n  //   } else {\n  //     // console.log(\"res bad\");\n  //     return setMessage(\n  //       \"400 - one of the fields was filled in incorrectly\"\n  //     );\n  //   }\n  // };\n\n  //Handle Signin Submission\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleRegistration(email, password);\n  };\n\n  return (\n    <div className=\"register\">\n      <form onSubmit={handleSubmit} className=\"register__form\">\n        <p className=\"register__title\">Sign Up</p>\n        <input\n          className=\"register__form-email register__input\"\n          name=\"email\"\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          className=\"register__form-password register__input\"\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button\n          style={{ color: \"#000\" }}\n          className=\"register__submit\"\n        >\n          Sign up\n        </button>\n        {/* link to login page */}\n        <p className=\"register__text\">\n          <Link className=\"register__link\" to=\"/signin\">\n            {\" \"}\n            Already a member? Log in here\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\n/* takes a component as a prop, as well as any number of\nprops to pass down to that component */\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {/* if loggedIn, render the given component, \n         else Redirect to login page */}\n      {() =>\n        props.loggedIn ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"./signin\" />\n        )\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/Success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Error-icon.df8eddf6.svg\";","import React from \"react\";\nimport successIcon from \"../images/Success-icon.svg\";\nimport errorIcon from \"../images/Error-icon.svg\";\nconst InfoToolTip = (props) => {\n  return (\n    <div\n      className={`modal modal_type_${props.name} ${\n        props.isOpen ? \"modal_open\" : \"\"\n      }`}\n    >\n      <div className=\"modal__container\">\n        <button\n          className=\"modal__button\"\n          type=\"button\"\n          aria-label=\"modal button\"\n          onClick={props.onClose}\n        ></button>\n        <div action=\"#\" className=\"modal__infotooltip\">\n          <img\n            src={props.isvalidRegistration ? successIcon : errorIcon}\n            alt=\"Success Icon\"\n            className=\"modal__infotooltip-icon\"\n          />\n          {props.isvalidRegistration ? (\n            <p className=\"modal__infotooltip-text\">\n              Success! You have now been registered\n            </p>\n          ) : (\n            <p className=\"modal__infotooltip-text\">\n              Oops, something went wrong! Please try again.\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InfoToolTip;\n","const authResponse = (res) => {\n  if (res) {\n    return res.json();\n  }\n\n  return Promise.reject(`Error: ${res.status}`);\n};\nexport const BASE_URL = \"https://register.nomoreparties.co\";\n\nexport const register = (email, password) => {\n  // your url will be different, of course\n  return (\n    fetch(`${BASE_URL}/signup`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    })\n      .then(authResponse)\n      // .then((response) => {\n      //   // if response returns 201-created, parse the data and return to next handler\n      //   if (response.status === 201) {\n      //     return response.json();\n      //   }\n      // })\n      .then((res) => {\n        // return the parsed data to client, this data includes a unique, signed JWT\n        console.log(res);\n        return res;\n      })\n  );\n};\n\n//Authorize User\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then(authResponse)\n    .then((data) => {\n      // does data have a jwt in it?\n      if (data.token) {\n        // if so, save it to local storage and return data\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n    });\n};\n//  NOTE  we pass this route the token as a parameter, and use that token in the Authorization header\nexport const getContent = (token) => {\n  return (\n    fetch(`${BASE_URL}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then(authResponse)\n      // NOTE   received data will include user data, such as email\n      .then((data) => {\n        return data;\n      })\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport {\n  Route,\n  Switch,\n  Redirect,\n  useHistory,\n} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport InfoToolTip from \"./InfoTooltip\";\nimport * as auth from \"../utils/auth\";\n\nfunction App() {\n  // State variable and setters\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] =\n    useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  // NOTE : info tooltip original state\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] =\n    useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  //loggedin state\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  // use userData to show user email on the nav\n  // const [userData, setUserData] = useState({});\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const history = useHistory();\n  const [isSuccessful, setIsSuccessful] = React.useState(false);\n\n  //HANDLE AUTHENTICATIONe\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  useEffect(() => {\n    api\n      .getInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  useEffect(() => {\n    api\n      .getCardList()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  //handlers for opening modals\n  function handleEditAvatarClick() {\n    // console.log(\"The Avatar was clicked.\");\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    // console.log(\"The Profile was clicked.\");\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    // console.log(\"The Place button  was clicked.\");\n    setIsAddPlacePopupOpen(true);\n  }\n  //Image Popup\n  function handleCardClick({ name, link }) {\n    setSelectedCard({ name, link });\n    setIsImagePopupOpen(true);\n  }\n  // NOTE :Handle info tooltip\n  function handleInfoTooltip() {\n    setIsInfoToolTipPopupOpen(true);\n  }\n  //close modals\n  function closeAllPopups() {\n    // console.log(\"Popup was closed\");\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    // NOTE Close Info Tool Tip\n    setIsInfoToolTipPopupOpen(false);\n    setSelectedCard({});\n  }\n  //ESC Close\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener(\"keydown\", closeByEscape);\n    return () =>\n      document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  //Handle User Update\n  function handleUpdateUser({ name, about }) {\n    api\n      .updateUserInfo({ name, about })\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //Handle avatar update\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setUserAvatar({ avatar })\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Send a request to the API and getting the updated card data\n    if (!isLiked) {\n      api\n        .changeLikeCardStatus(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n  function handleCardDelete(card) {\n    // After the API request, update the cards state using the filter() method. Create a copy\n    // of the array and exclude the deleted card from it.\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const cardList = cards.filter((c) => c._id !== card._id);\n        setCards(cardList);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleAddPlaceSubmit({ name, link }) {\n    api\n      .addCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  // REGISTRATION\n  const handleRegistration = (email, password) => {\n    auth\n      .register(email, password)\n      // We only want to redirect users after the registration form has been properly submitted\n      .then((res) => {\n        if (email && password) {\n          setIsSuccessful(true);\n          setIsInfoToolTipPopupOpen(true);\n          history.push(\"/signin\");\n          // console.log(\"res good\");\n          return res;\n        } else {\n          setIsSuccessful(false);\n        }\n      })\n      .catch((err) => {\n        setIsInfoToolTipPopupOpen(true);\n        console.log(err);\n        // console.log(\"res bad\");\n        return setMessage(\n          \"400 - one of the fields was filled in incorrectly\"\n        );\n      });\n  };\n  // const handleRegistration = (email, password) => {\n  //   if (email && password) {\n  //     auth\n  //       .register(email, password)\n  //       // We only want to redirect users after the registration form has been properly submitted\n  //       .then((res) => {\n  //         setIsSuccessful(true);\n  //         setIsInfoToolTipPopupOpen(true);\n  //         history.push(\"/signin\");\n  //         console.log(\"res good\");\n  //         return res;\n  //       })\n  //       .catch((err) => {\n  //         setIsSuccessful(false);\n  //         setIsInfoToolTipPopupOpen(true);\n  //         console.log(err);\n  //       });\n  //   } else {\n  //     // console.log(\"res bad\");\n  //     return setMessage(\n  //       \"400 - one of the fields was filled in incorrectly\"\n  //     );\n  //   }\n  // };\n\n  //LOG IN\n  const handleLogin = (email, password) => {\n    auth\n      .authorize(email, password)\n      .then((data) => {\n        if (!data) {\n          return setMessage(\n            \"one or more of the fields were not provided\"\n          );\n        }\n        if (data) {\n          // set\n          setEmail(email);\n          // TODO  handle login\n          setLoggedIn(true);\n          // redirect user to cards\n          history.push(\"/\");\n          return;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setMessage(err.message);\n      });\n  };\n\n  //LOGOUT\n  function handleLogOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    setEmail(\"\");\n    setPassword(\"\");\n  }\n  const tokenCheck = () => {\n    // if user has a token in storage, check if it is valid\n    if (localStorage.getItem(\"jwt\")) {\n      const jwt = localStorage.getItem(\"jwt\");\n      // make the request\n      auth\n        .getContent(jwt)\n        .then((res) => {\n          // if response is successful, log in the user\n          if (res) {\n            setEmail(res.data.email);\n            setLoggedIn(true);\n            // also push user to the Home Page\n            history.push(\"/\");\n            // NOTE  : set user data in header. use This method for more than one userData\n            // const userData = {\n            //   email: res.email,\n            // };\n            // setUserData(userData);\n          }\n          console.log(\"something went wrong- tokencheck\");\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  return (\n    <div className=\"page\">\n      <div className=\"page__container\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header\n            // userData={userData}\n            email={email}\n            loggedIn={loggedIn}\n            handleLogOut={handleLogOut}\n          />\n          <Switch>\n            <ProtectedRoute\n              component={Main}\n              exact\n              path=\"/\"\n              loggedIn={loggedIn}\n              onEditAvatarClick={handleEditAvatarClick}\n              onEditProfileClick={handleEditProfileClick}\n              onAddPlaceClick={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              email={email}\n            />\n            <Route path=\"/signup\">\n              <Register handleRegistration={handleRegistration} />\n            </Route>\n            <Route path=\"/signin\">\n              <Login\n                handleLogin={handleLogin}\n                tokenCheck={tokenCheck}\n              />\n            </Route>\n            <Route exact path=\"/\">\n              {loggedIn ? (\n                <Redirect to=\"/\" />\n              ) : (\n                <Redirect to=\"/signin\" />\n              )}\n            </Route>\n          </Switch>\n          {loggedIn && <Footer />}\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <PopupWithForm\n            name={`delete`}\n            title={`Are you sure?`}\n            buttonText={`Yes`}\n          ></PopupWithForm>\n\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            isOpen={isImagePopupOpen}\n          />\n\n          <InfoToolTip\n            isOpen={isInfoToolTipPopupOpen}\n            onClose={closeAllPopups}\n            onShowToolTip={handleInfoTooltip}\n            isvalidRegistration={isSuccessful}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\"; // importing BrowserRouter\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}