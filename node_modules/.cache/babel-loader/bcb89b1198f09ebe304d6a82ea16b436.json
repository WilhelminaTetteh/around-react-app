{"ast":null,"code":"import _slicedToArray from\"/Users/wilhelminatetteh/Desktop/around-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}//Profile submit\nfunction handleSubmit(e){e.preventDefault();// Pass the values of the managed components to the external handler\nprops.onUpdateUser({name:name,about:description});}// Subscription to the context\nvar currentUser=React.useContext(CurrentUserContext);// After loading the current user from the API\n// their data will be used in managed components.\nReact.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,props.isOpen]);//watch isOpen here to insert the user's data into the inputs\nreturn/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-profile\",title:\"Edit profile\",buttonText:\"Save\",isOpen:props.isOpen//isEditProfilePopupOpen\n,onClose:props.onClose//closeAllPopups\n,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form__lable\",children:[/*#__PURE__*/_jsx(\"input\",{// defaultValue={name}\nvalue:name||\"\",onChange:handleNameChange,id:\"profile-name\",type:\"text\",placeholder:\"Name\",style:{color:\"#000\"},className:\"form__input form__input_type_title\",name:\"title\"}),/*#__PURE__*/_jsx(\"span\",{id:\"profile-name-error\",className:\"form__error\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"form__lable\",children:[/*#__PURE__*/_jsx(\"input\",{// defaultValue={description}\nvalue:description||\"\",onChange:handleDescriptionChange,id:\"profile-text\",type:\"text\",placeholder:\"About me\",className:\"form__input form__input_type_description\",name:\"description\",style:{color:\"#000\"}}),/*#__PURE__*/_jsx(\"span\",{id:\"profile-text-error\",className:\"form__error\"})]})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/wilhelminatetteh/Desktop/around-react-app/src/components/EditProfilePopup.js"],"names":["React","useState","PopupWithForm","CurrentUserContext","EditProfilePopup","props","name","setName","description","setDescription","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","about","currentUser","useContext","useEffect","isOpen","onClose","color"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,mCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAAsCN,QAAQ,CAAC,EAAD,CAA9C,yCAAOO,WAAP,eAAoBC,cAApB,eAEA,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BJ,OAAO,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAClCF,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CACD;AACA,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GACA;AACAX,KAAK,CAACY,YAAN,CAAmB,CACjBX,IAAI,CAAJA,IADiB,CAEjBY,KAAK,CAAEV,WAFU,CAAnB,EAID,CACD;AACA,GAAMW,CAAAA,WAAW,CAAGnB,KAAK,CAACoB,UAAN,CAAiBjB,kBAAjB,CAApB,CAEA;AACA;AACAH,KAAK,CAACqB,SAAN,CAAgB,UAAM,CACpBd,OAAO,CAACY,WAAW,CAACb,IAAb,CAAP,CACAG,cAAc,CAACU,WAAW,CAACD,KAAb,CAAd,CACD,CAHD,CAGG,CAACC,WAAD,CAAcd,KAAK,CAACiB,MAApB,CAHH,EAGiC;AACjC,mBACE,MAAC,aAAD,EACE,IAAI,eADN,CAEE,KAAK,eAFP,CAGE,UAAU,OAHZ,CAIE,MAAM,CAAEjB,KAAK,CAACiB,MAAQ;AAJxB,CAKE,OAAO,CAAEjB,KAAK,CAACkB,OAAS;AAL1B,CAME,QAAQ,CAAER,YANZ,wBAQE,eAAO,SAAS,CAAC,aAAjB,wBACE,cACE;AACA,KAAK,CAAET,IAAI,EAAI,EAFjB,CAGE,QAAQ,CAAEI,gBAHZ,CAIE,EAAE,CAAC,cAJL,CAKE,IAAI,CAAC,MALP,CAME,WAAW,CAAC,MANd,CAOE,KAAK,CAAE,CAAEc,KAAK,CAAE,MAAT,CAPT,CAQE,SAAS,CAAC,oCARZ,CASE,IAAI,CAAC,OATP,EADF,cAYE,aAAM,EAAE,CAAC,oBAAT,CAA8B,SAAS,CAAC,aAAxC,EAZF,GARF,cAsBE,eAAO,SAAS,CAAC,aAAjB,wBACE,cACE;AACA,KAAK,CAAEhB,WAAW,EAAI,EAFxB,CAGE,QAAQ,CAAEM,uBAHZ,CAIE,EAAE,CAAC,cAJL,CAKE,IAAI,CAAC,MALP,CAME,WAAW,CAAC,UANd,CAOE,SAAS,CAAC,0CAPZ,CAQE,IAAI,CAAC,aARP,CASE,KAAK,CAAE,CAAEU,KAAK,CAAE,MAAT,CATT,EADF,cAYE,aAAM,EAAE,CAAC,oBAAT,CAA8B,SAAS,CAAC,aAAxC,EAZF,GAtBF,GADF,CAuCD,CAED,cAAepB,CAAAA,gBAAf","sourcesContent":["import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n  //Profile submit\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  // Subscription to the context\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]); //watch isOpen here to insert the user's data into the inputs\n  return (\n    <PopupWithForm\n      name={`edit-profile`}\n      title={`Edit profile`}\n      buttonText={`Save`}\n      isOpen={props.isOpen} //isEditProfilePopupOpen\n      onClose={props.onClose} //closeAllPopups\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__lable\">\n        <input\n          // defaultValue={name}\n          value={name || \"\"}\n          onChange={handleNameChange}\n          id=\"profile-name\"\n          type=\"text\"\n          placeholder=\"Name\"\n          style={{ color: \"#000\" }}\n          className=\"form__input form__input_type_title\"\n          name=\"title\"\n        />\n        <span id=\"profile-name-error\" className=\"form__error\"></span>\n      </label>\n      <label className=\"form__lable\">\n        <input\n          // defaultValue={description}\n          value={description || \"\"}\n          onChange={handleDescriptionChange}\n          id=\"profile-text\"\n          type=\"text\"\n          placeholder=\"About me\"\n          className=\"form__input form__input_type_description\"\n          name=\"description\"\n          style={{ color: \"#000\" }}\n        />\n        <span id=\"profile-text-error\" className=\"form__error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n"]},"metadata":{},"sourceType":"module"}