{"ast":null,"code":"import _classCallCheck from\"/Users/wilhelminatetteh/Desktop/around-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wilhelminatetteh/Desktop/around-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var apiResponse=function apiResponse(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status));};var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,authToken=_ref.authToken;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._authToken=authToken;}// methods for working with the API\n// GET https://around.nomoreparties.co/v1/groupId/cards\n_createClass(Api,[{key:\"getCardList\",value:function getCardList(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:{authorization:this._authToken}}).then(apiResponse);}// GET https://around.nomoreparties.co/v1/groupId/users/me\n},{key:\"getInfo\",value:function getInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:{authorization:this._authToken}}).then(apiResponse);}// make everything show up at once\n},{key:\"getInitialData\",value:function getInitialData(){return Promise.all([this.getInfo(),this.getCardList()]);}// POST https://around.nomoreparties.co/v1/groupId/cards\n},{key:\"addCard\",value:function addCard(_ref2){var name=_ref2.name,link=_ref2.link;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:{authorization:this._authToken,\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,link:link})}).then(apiResponse);}// DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n},{key:\"removeCard\",value:function removeCard(cardID){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardID),{method:\"DELETE\",headers:{authorization:this._authToken}}).then(apiResponse);}// PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n// DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n},{key:\"deleteLike\",value:function deleteLike(cardID){return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardID),{method:\"DELETE\",headers:{authorization:this._authToken}}).then(apiResponse);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardID){return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardID),{method:\"PUT\",headers:{authorization:this._authToken}}).then(apiResponse);}// PATCH https://around.nomoreparties.co/v1/groupId/users/me\n},{key:\"updateUserInfo\",value:function updateUserInfo(_ref3){var name=_ref3.name,about=_ref3.about;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:{authorization:this._authToken,\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,about:about})}).then(apiResponse);}// PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n},{key:\"setUserAvatar\",value:function setUserAvatar(_ref4){var avatar=_ref4.avatar;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:{authorization:this._authToken,\"Content-Type\":\"application/json\"},body:JSON.stringify({avatar:avatar})}).then(apiResponse);}}]);return Api;}();var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-7\",authToken:\"47c83c4f-319d-4409-b351-cc8f7164bc50\"});export default api;","map":{"version":3,"sources":["/Users/wilhelminatetteh/Desktop/around-react-app/src/utils/api.js"],"names":["apiResponse","res","ok","json","Promise","reject","status","Api","baseUrl","authToken","_baseUrl","_authToken","fetch","headers","authorization","then","all","getInfo","getCardList","name","link","method","body","JSON","stringify","cardID","about","avatar","api"],"mappings":"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","sourcesContent":["const apiResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Error: ${res.status}`);\n};\n\nclass Api {\n  constructor({ baseUrl, authToken }) {\n    this._baseUrl = baseUrl;\n    this._authToken = authToken;\n  }\n\n  // methods for working with the API\n\n  // GET https://around.nomoreparties.co/v1/groupId/cards\n  getCardList() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // GET https://around.nomoreparties.co/v1/groupId/users/me\n  getInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // make everything show up at once\n  getInitialData() {\n    return Promise.all([this.getInfo(), this.getCardList()]);\n  }\n\n  // POST https://around.nomoreparties.co/v1/groupId/cards\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n        authorization: this._authToken,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(apiResponse);\n  }\n\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\n  removeCard(cardID) {\n    return fetch(`${this._baseUrl}/cards/${cardID}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n  // DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\n\n  deleteLike(cardID) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  changeLikeCardStatus(cardID) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._authToken,\n      },\n    }).then(apiResponse);\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me\n  updateUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authToken,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(apiResponse);\n  }\n\n  // PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._authToken,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(apiResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-7\",\n  authToken: \"47c83c4f-319d-4409-b351-cc8f7164bc50\",\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}